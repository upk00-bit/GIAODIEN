<!DOCTYPE html>
<html lang="vi" class="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>L√¥ T√¥ Online</title>
<script>
const ticketColors = [
  { name: "Cam",    key: "orange", bg: "bg-orange-400", badge: "bg-orange-600 text-white" },
  { name: "V√†ng",   key: "yellow", bg: "bg-yellow-300", badge: "bg-yellow-500 text-black" },
  { name: "H·ªìng",   key: "pink",   bg: "bg-pink-400", badge: "bg-pink-600 text-white" },
  { name: "ƒê·ªè",     key: "red",    bg: "bg-red-500", badge: "bg-red-700 text-white" },
  { name: "Xanh l√°",key: "green",  bg: "bg-green-400", badge: "bg-green-600 text-white" },
  { name: "Xanh d∆∞∆°ng", key: "blue", bg: "bg-blue-400", badge: "bg-blue-600 text-white" },
  { name: "N√¢u",    key: "brown",  bg: "bg-amber-700", badge: "bg-amber-900 text-white" },
  { name: "T√≠m",    key: "purple", bg: "bg-purple-400", badge: "bg-purple-600 text-white" }
];

const ticketContainer = document.getElementById("ticketButtons");

let ticketIndex = 1;

ticketColors.forEach(color => {
  for (let i = 1; i <= 2; i++) {
    const ticketId = `${color.key}-${i}`;

    const btn = document.createElement("div");
    btn.className = `ticket ${color.bg} text-black`;
    btn.onclick = () => selectTicket(ticketId);

    btn.innerHTML = `
      <div class="ticket-badge ${color.badge}">
        ${color.name}
      </div>
      <div class="ticket-title">Ticket</div>
      <div class="ticket-id">#${ticketIndex.toString().padStart(2,"0")}</div>
      <div class="text-[10px] opacity-70">
        B√π tr·ª´ 1‚Äì90
      </div>
    `;

    ticketContainer.appendChild(btn);
    ticketIndex++;
  }
});
</script>
  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Font -->
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;800&display=swap" rel="stylesheet"/>

  <style>
    body {
      font-family: 'Plus Jakarta Sans', sans-serif;
    }
    .loto-grid {
      display: grid;
      grid-template-columns: repeat(9, 1fr);
      gap: 4px;
    }
    .number-cell {
      height: 48px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 800;
      border-radius: 6px;
      cursor: pointer;
    }
    .selected {
      background: #facc15 !important;
      color: #000;
    }
  </style>
</head>

<body class="bg-gray-100">

<!-- ================= SCREEN 1: CH·ªåN TICKET ================= -->
<div id="screen-ticket" class="min-h-screen flex flex-col items-center justify-center px-4">

  <h1 class="text-3xl font-extrabold mb-2">üéüÔ∏è Ch·ªçn Ticket L√¥ T√¥</h1>
  <p class="text-sm text-gray-500 mb-6">16 t·ªù ‚Ä¢ 8 m√†u </p>

  <div id="ticketButtons" class="grid grid-cols-2 sm:grid-cols-4 gap-4 w-full max-w-4xl"></div>

</div>

<!-- ================= SCREEN 2: GAME ================= -->
<div id="screen-game" class="hidden min-h-screen p-4">

  <div class="flex justify-between items-center mb-4">
    <h2 id="ticketName" class="text-xl font-extrabold"></h2>
    <button onclick="location.reload()" class="text-sm underline">ƒê·ªïi ticket</button>
  </div>

  <!-- Ticket -->
  <div class="bg-white p-3 rounded-xl shadow-md">
    <div id="lotoGrid" class="loto-grid"></div>
  </div>

  <!-- KINH -->
  <button
    onclick="checkKinh()"
    class="mt-4 w-full bg-yellow-400 text-black font-extrabold py-3 rounded-xl text-lg"
  >
    üéâ KINH!
  </button>

</div>

<!-- ================= SCRIPT ================= -->
<script>
/* ---------- DATA ---------- */
const colors = [
  "Cam","V√†ng","H·ªìng","ƒê·ªè",
  "Xanh l√°","Xanh d∆∞∆°ng","N√¢u","T√≠m"
];

const tickets = [];
let ticketCounter = 1;

// t·∫°o 16 ticket (logic b√π tr·ª´ s·∫Ω l√†m ti·∫øp)
colors.forEach(color => {
  const [numsA, numsB] = splitNumbers();

  tickets.push(generateTicketFromNumbers(`${color}-1`, color, numsA));
  tickets.push(generateTicketFromNumbers(`${color}-2`, color, numsB));
});


/* ---------- RENDER TICKET LIST ---------- */
const ticketButtons = document.getElementById("ticketButtons");

tickets.forEach(t => {
  const div = document.createElement("div");
  div.className = "bg-white rounded-xl shadow p-4 text-center cursor-pointer hover:scale-105 transition";
  div.innerHTML = `
    <div class="text-xs uppercase text-gray-500">${t.color}</div>
    <div class="text-2xl font-extrabold">#${String(t.id).padStart(2,"0")}</div>
  `;
  div.onclick = () => selectTicket(t);
  ticketButtons.appendChild(div);
});

/* ---------- SELECT TICKET ---------- */
function selectTicket(ticket) {
  document.getElementById("screen-ticket").classList.add("hidden");
  document.getElementById("screen-game").classList.remove("hidden");
  document.getElementById("ticketName").innerText = "Ticket " + ticket.name;
  renderTicket();
}

/* ---------- RENDER 9x9 GRID ---------- */
function renderTicket() {
  const grid = document.getElementById("lotoGrid");
  grid.innerHTML = "";

  for (let row = 0; row < 9; row++) {
    let filled = 0;
    for (let col = 0; col < 9; col++) {

      const cell = document.createElement("div");
      cell.className = "number-cell bg-gray-200";

      if (filled < 5 && Math.random() > 0.4) {
        const min = col * 10 + 1;
        const max = col === 8 ? 90 : col * 10 + 9;
        cell.innerText = Math.floor(Math.random() * (max - min + 1)) + min;
        cell.onclick = () => cell.classList.toggle("selected");
        filled++;
      } else {
        cell.innerHTML = "&nbsp;";
      }

      grid.appendChild(cell);
    }
  }
}

/* ---------- CHECK KINH ---------- */
function checkKinh() {
  const cells = [...document.querySelectorAll(".number-cell")];
  for (let r = 0; r < 9; r++) {
    const row = cells.slice(r * 9, r * 9 + 9);
    const selected = row.filter(c => c.classList.contains("selected"));
    if (selected.length === 5) {
      alert("üéâ KINH H√ÄNG " + (r + 1));
      return;
    }
  }
  alert("Ch∆∞a ƒë·ªß 5 s·ªë tr√™n h√†ng n√†o");
}
</script>

</body>
</html>

<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Loto Ticket</title>

  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    .grid-9 {
      display: grid;
      grid-template-columns: repeat(9, 1fr);
      gap: 4px;
    }
    .cell {
      height: 36px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      border-radius: 6px;
      cursor: pointer;
    }
    .cell.empty {
      background: transparent;
      cursor: default;
    }
    .cell.selected {
      background: #facc15;
      color: #000;
    }
  </style>
</head>

<body class="bg-gray-100 p-4">

<h1 class="text-xl font-bold mb-3">üéüÔ∏è Ch·ªçn Ticket</h1>

<div id="ticketButtons" class="grid grid-cols-4 gap-2 mb-4"></div>

<div id="ticketArea" class="bg-white p-4 rounded-xl shadow hidden">
  <div class="flex justify-between items-center mb-2">
    <h2 id="ticketTitle" class="font-bold"></h2>
    <span id="kinhBadge" class="hidden px-2 py-1 text-xs font-black bg-red-500 text-white rounded">
      KINH!
    </span>
  </div>

  <div id="ticketGrid" class="grid-9"></div>
</div>

<script>
/* =========================
   DATA
========================= */

const colors = [
  "orange","yellow","pink","red",
  "green","blue","brown","purple"
];

const tickets = [];
let currentTicket = null;

/* =========================
   GENERATE TICKETS
========================= */

function randomPick(arr, n) {
  return [...arr].sort(() => 0.5 - Math.random()).slice(0, n);
}

function generateTicket(id, color) {
  const grid = [];

  for (let row = 0; row < 9; row++) {
    const rowCells = Array(9).fill(null);
    const cols = randomPick([...Array(9).keys()], 5);

    cols.forEach(col => {
      const min = col === 8 ? 80 : col * 10;
      const max = col === 8 ? 90 : col * 10 + 9;
      rowCells[col] = Math.floor(Math.random() * (max - min + 1)) + min;
    });

    grid.push(rowCells);
  }

  return { id, color, grid };
}

/* 16 tickets */
colors.forEach(color => {
  tickets.push(generateTicket(`${color}-1`, color));
  tickets.push(generateTicket(`${color}-2`, color));
});

/* =========================
   UI
========================= */

const btnWrap = document.getElementById("ticketButtons");
const gridWrap = document.getElementById("ticketGrid");
const area = document.getElementById("ticketArea");
const title = document.getElementById("ticketTitle");
const kinh = document.getElementById("kinhBadge");

tickets.forEach(t => {
  const btn = document.createElement("button");
  btn.className = `py-2 rounded text-white font-bold bg-${t.color}-500`;
  btn.textContent = t.id;
  btn.onclick = () => loadTicket(t);
  btnWrap.appendChild(btn);
});

function loadTicket(ticket) {
  currentTicket = ticket;
  gridWrap.innerHTML = "";
  kinh.classList.add("hidden");

  title.textContent = `Ticket ${ticket.id}`;
  area.classList.remove("hidden");

  ticket.grid.forEach((row, r) => {
    row.forEach((num, c) => {
      const cell = document.createElement("div");
      if (num === null) {
        cell.className = "cell empty";
      } else {
        cell.className = "cell bg-gray-200";
        cell.textContent = num;
      cell.onclick = () => {
        cell.classList.toggle("selected");
  checkNearWin();
};
          checkKinh(r);
        };
      }
      gridWrap.appendChild(cell);
    });
  });
}

function checkKinh(rowIndex) {
  const start = rowIndex * 9;
  const rowCells = [...gridWrap.children].slice(start, start + 9);
  const selected = rowCells.filter(c => c.classList.contains("selected")).length;

  if (selected === 5) {
    kinh.classList.remove("hidden");
  }
}
</script>

</body>
</html>
